suite: setup job annotations
templates:
  - job-setup.yaml
tests:
  - it: should populate job annotations
    set:
      reconcile:
        annotations:
          istest: yes
    asserts:
      - isNotNull:
          path: spec.template.metadata.annotations.istest
      - isNotEmpty:
          path: spec.template.metadata.annotations.istest
      - equal:
          path: spec.template.metadata.annotations.istest
          value: yes
  - it: should not have job metadata by default
    asserts:
      - isNull:
          path: spec.template.metadata
